# Phase1 学習メモ

## Pydantic (BaseModel)
- データの「型チェック」と「バリデーション（検証）」を自動でやってくれるライブラリ
- クラスを定義するだけで、送られてきたデータが正しい形かを自動チェックしてくれる
- FastAPI は内部で Pydantic を使っているので、バリデーションコードを自分で書かなくていい

### Optional（あってもなくてもいいデータ）
- `name: str` → 必須。無いとエラー
- `price: int | None = None` → 任意。無ければ None が入る
- `done: bool = False` → 任意。無ければ False が入る

## HTTP メソッドと CRUD の対応
| 操作 | HTTPメソッド | 意味 |
|------|-------------|------|
| Create（作成） | POST | 新しく作る |
| Read（取得） | GET | 読み取る |
| Update（更新） | PUT | 書き換える（全体を置き換え） |
| Delete（削除） | DELETE | 消す |

- PATCH というメソッドもあり、こちらは「一部だけ更新」

## for文 (`for t in todos:`)
- `todos` リストの中身を1つずつ `t` に入れて繰り返す
- `t` には id, name, done をまとめた1個の Todo オブジェクト（かたまり）が丸ごと入る
- `t.id`, `t.name`, `t.done` で各値にアクセスできる
- C言語のようにインデックス（`todos[i]`）を使わず、中身を直接受け取れるのが Python の特徴

### C言語との比較
```c
// C: インデックスで回す
for (int i = 0; i < 3; i++) {
    printf("%s", todos[i]);
}
```
```python
# Python: 中身を直接取り出す
for t in todos:
    print(t)
```

### remove の対象
- `todos.remove(t)` の `t` は、for文で今見ているかたまり全体を指す
- 一致したかたまり丸ごとリストから削除される

## 同期処理 vs 非同期処理 (async/await)
- **同期処理**: タスクを1つずつ順番に実行する。前のタスクが終わるまで次に進めない
- **非同期処理**: 待ち時間（I/O待ちなど）の間に別のタスクを進められる

### キーワード
- `async def` → この関数は非同期ですよ、という宣言
- `await` → ここで待ち時間が発生するよ（その間に他のタスクを進めてOK）
- `asyncio.gather()` → 複数のタスクを同時に実行する

### 実行時間の違い（async_test.py で確認）
- 順番に実行（同期的）: タスクA(2秒) + タスクB(1秒) = **合計3秒**
- 同時に実行（非同期的）: タスクC(2秒) と タスクD(1秒) を同時に走らせる = **合計2秒**（遅い方に合わせるだけ）
